# NeuraKnot

äººé–“ã¨ AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒè‡ªç„¶ã«ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ãã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

## ç›®æ¬¡

- [æ¦‚è¦](#æ¦‚è¦)
- [ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
  - [å…¨ä½“æ§‹æˆ](#å…¨ä½“æ§‹æˆ)
  - [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
  - [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ)
- [ç’°å¢ƒæ§‹æˆ](#ç’°å¢ƒæ§‹æˆ)
  - [é–‹ç™ºç’°å¢ƒï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰](#é–‹ç™ºç’°å¢ƒãƒ­ãƒ¼ã‚«ãƒ«)
  - [æœ¬ç•ªç’°å¢ƒï¼ˆAWSï¼‰](#æœ¬ç•ªç’°å¢ƒaws)
- [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](#ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ)
  - [å¿…è¦ãªç’°å¢ƒ](#å¿…è¦ãªç’°å¢ƒ)
  - [ç’°å¢ƒå¤‰æ•°ã®è¨­å®š](#ç’°å¢ƒå¤‰æ•°ã®è¨­å®š)
  - [ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•](#ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•)
  - [å‹•ä½œç¢ºèª](#å‹•ä½œç¢ºèª)
- [é–‹ç™º](#é–‹ç™º)
  - [Docker Compose ã‚³ãƒãƒ³ãƒ‰](#docker-composeã‚³ãƒãƒ³ãƒ‰)
  - [å€‹åˆ¥é–‹ç™º](#å€‹åˆ¥é–‹ç™º)
  - [é–‹ç™ºãƒ«ãƒ¼ãƒ«](#é–‹ç™ºãƒ«ãƒ¼ãƒ«)
- [API ä»•æ§˜](#apiä»•æ§˜)
- [èªè¨¼](#èªè¨¼)
- [ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£](#ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£)
- [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](#ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)
- [ãƒ‡ãƒ—ãƒ­ã‚¤](#ãƒ‡ãƒ—ãƒ­ã‚¤)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [ãƒ©ã‚¤ã‚»ãƒ³ã‚¹](#ãƒ©ã‚¤ã‚»ãƒ³ã‚¹)

## æ¦‚è¦

NeuraKnot ã¯ã€AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ã®å¯¾è©±ã‚’é€šã˜ã¦æ§˜ã€…ãªã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã§ãã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚è¤‡æ•°ã®å€‹æ€§ã‚’æŒã¤ AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºã«ã‚ˆã‚‹æ‹¡å¼µå¯èƒ½ãªãƒ„ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’æä¾›ã—ã¾ã™ã€‚

## ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### å…¨ä½“æ§‹æˆ

```
Internet
    |
    v
[Vercel - Next.js Frontend]
    | HTTPS
    v
[Application Load Balancer]
    |
    v
[ECS Fargate - Backend Go] <--(å†…éƒ¨é€šä¿¡)--> [ECS Fargate - Backend Python]
    |                                           |
    v                                           v
[RDS PostgreSQL]                          [External APIs]
[Redis]                                   (OpenWeather, Slack, Notion, etc.)
    |
    v
[AWS Cognito]
(èªè¨¼)
```

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**

- Next.js 15 (App Router) - Vercel ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
- TypeScript
- Tailwind CSS

**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**

- Go 1.25 - REST API (ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ / DDD)
- Backend Python 3.11 - AI å‡¦ç† (FastAPI + LangChain)

**AI / LLM**

- OpenAI (GPT-4o)
- Anthropic (Claude 3.5)
- Google (Gemini)
- LangChain Agent

**ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢**

- PostgreSQL 15 - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿
- Redis 7 - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³

**èªè¨¼**

- AWS Cognito
- OAuth 2.0 (Google, Apple, LINE)

**ã‚¤ãƒ³ãƒ•ãƒ©**

- Docker / Docker Compose (é–‹ç™ºç’°å¢ƒ)
- AWS ECS Fargate (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API)
- Vercel (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰)
- AWS RDS (PostgreSQL)
- Terraform (IaC) - [è©³ç´°ã¯ã“ã¡ã‚‰](./terraform/README.md)

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
neuraKnot/
â”œâ”€â”€ frontend/                    # Next.js ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ app/                    # App Router
â”‚   â”œâ”€â”€ components/             # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ lib/                    # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»å‹å®šç¾©
â”‚
â”œâ”€â”€ backend-go/                 # Backend Go ã‚µãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ cmd/api/                # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ internal/
â”‚   â”‚   â”œâ”€â”€ domain/            # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤
â”‚   â”‚   â”œâ”€â”€ usecase/           # ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤
â”‚   â”‚   â”œâ”€â”€ handler/           # ãƒãƒ³ãƒ‰ãƒ©ãƒ¼å±¤
â”‚   â”‚   â””â”€â”€ infrastructure/    # ã‚¤ãƒ³ãƒ•ãƒ©å±¤
â”‚   â”œâ”€â”€ migrations/            # DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ docs/                  # Swagger ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚
â”œâ”€â”€ backend-python/             # Backend Python ã‚µãƒ¼ãƒãƒ¼
â”‚   â””â”€â”€ app/
â”‚       â”œâ”€â”€ api/v1/            # ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚       â”œâ”€â”€ services/          # ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ãƒ„ãƒ¼ãƒ«
â”‚       â”‚   â”œâ”€â”€ built_in/     # çµ„ã¿è¾¼ã¿ãƒ„ãƒ¼ãƒ«
â”‚       â”‚   â””â”€â”€ api_wrappers/ # å¤–éƒ¨APIé€£æº
â”‚       â”œâ”€â”€ core/              # LLMãƒ»è¨­å®š
â”‚       â””â”€â”€ models/            # ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹
â”‚
â”œâ”€â”€ docker-compose/
â”‚   â””â”€â”€ dev.yml                # é–‹ç™ºç’°å¢ƒ
â”‚
â”œâ”€â”€ terraform/                 # ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ as Code
â”‚   â”œâ”€â”€ modules/              # å†åˆ©ç”¨å¯èƒ½ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ cognito/          # AWS Cognito
â”‚   â”‚   â”œâ”€â”€ vpc/              # VPCãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯
â”‚   â”‚   â”œâ”€â”€ ecr/              # ECR ãƒªãƒã‚¸ãƒˆãƒª
â”‚   â”‚   â”œâ”€â”€ ecs/              # ECS ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿ï¼‰
â”‚   â”‚   â”œâ”€â”€ rds/              # RDS PostgreSQL
â”‚   â”‚   â”œâ”€â”€ alb/              # Application Load Balancer
â”‚   â”‚   â”œâ”€â”€ service-discovery/ # Cloud Map
â”‚   â”‚   â”œâ”€â”€ secrets/          # Secrets Manager
â”‚   â”‚   â””â”€â”€ iam/              # IAM ãƒ­ãƒ¼ãƒ«ãƒ»ãƒãƒªã‚·ãƒ¼
â”‚   â””â”€â”€ environments/
â”‚       â”œâ”€â”€ dev/              # é–‹ç™ºç’°å¢ƒï¼ˆCognito ã®ã¿ï¼‰
â”‚       â””â”€â”€ prod/             # æœ¬ç•ªç’°å¢ƒï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIï¼‰
â”‚
â””â”€â”€ docs/                      # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    â”œâ”€â”€ aws/                   # AWSé–¢é€£
    â”œâ”€â”€ frontend/              # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
    â””â”€â”€ backend/               # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
```

## ç’°å¢ƒæ§‹æˆ

### é–‹ç™ºç’°å¢ƒï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰

ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã§ã¯ã€å…¨ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ Docker ã‚³ãƒ³ãƒ†ãƒŠã§å®Ÿè¡Œã—ã¾ã™ã€‚

```
é–‹ç™ºè€…PCï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰
â”œâ”€â”€ Next.js (localhost:3000)
â”œâ”€â”€ Backend Go (localhost:8080)
â”œâ”€â”€ Backend Python (localhost:8001)
â”œâ”€â”€ PostgreSQL (Docker/localhost:5432)
â””â”€â”€ Redis (Docker/localhost:6379)

AWS Cognito (DEV User Pool) - èªè¨¼å°‚ç”¨
```

**ç‰¹å¾´:**

- PostgreSQL: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã®ã¿ä¿å­˜
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†: AWS Cognito DEV User Pool
- èªè¨¼æ–¹å¼: ãƒ¡ãƒ¼ãƒ« + ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆåŸºæœ¬ã®ã¿ï¼‰
- OAuth: æœªå¯¾å¿œï¼ˆé–‹ç™ºç”¨ã®ãŸã‚ï¼‰

### æœ¬ç•ªç’°å¢ƒï¼ˆAWS + Vercelï¼‰

æœ¬ç•ªç’°å¢ƒã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’ Vercelã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API ã‚’ AWS ã§ç®¡ç†ã—ã¾ã™ã€‚

```
[Vercel - Next.js Frontend]
        |
        v HTTPS
[Application Load Balancer]
        |
        v
[ECS Fargate - Backend Go] <--(å†…éƒ¨é€šä¿¡)--> [ECS Fargate - Backend Python]
        |
        v
[RDS PostgreSQL]

[AWS Cognito PROD User Pool]
```

**ç‰¹å¾´:**

- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: Vercelï¼ˆNext.jsï¼‰
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API: AWS ECS Fargate
- Backend Python ã‚µãƒ¼ãƒãƒ¼: ECS Fargateï¼ˆå†…éƒ¨é€šä¿¡ã®ã¿ã€ALB ã‹ã‚‰ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ï¼‰
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: RDS PostgreSQLï¼ˆMulti-AZï¼‰
- Service Discovery: Cloud Mapï¼ˆ`backend-python.neuraKnot.local`ï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†: AWS Cognito PROD User Pool
- OAuth å¯¾å¿œ: Google, Apple, LINE

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å¿…è¦ãªç’°å¢ƒ

- Docker Desktop
- Docker Compose
- Git

### ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

å„ã‚µãƒ¼ãƒ“ã‚¹ã®ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ï¼š

```bash
# backend-go/.env.local
cp backend-go/.env backend-go/.env.local

# backend-python/.env.local
cp backend-python/.env backend-python/.env.local

# frontend/.env.local
cp frontend/.env frontend/.env.local
```

**å¿…é ˆã®ç’°å¢ƒå¤‰æ•°:**

- **èªè¨¼**: `COGNITO_USER_POOL_ID`, `COGNITO_CLIENT_ID`, `COGNITO_CLIENT_SECRET`
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: `DB_PASSWORD`
- **AI API**: `OPENAI_API_KEY`, `ANTHROPIC_API_KEY`, `GOOGLE_API_KEY`
- **å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹** (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): Slack, Notion, Weather API ç­‰

### ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•

```bash
# å…¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•
docker-compose -f docker-compose/dev.yml up -d

# ãƒ­ã‚°ã‚’ç¢ºèª
docker-compose -f docker-compose/dev.yml logs -f
```

### å‹•ä½œç¢ºèª

| ã‚µãƒ¼ãƒ“ã‚¹       | URL                                      | èª¬æ˜             |
| -------------- | ---------------------------------------- | ---------------- |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | http://localhost:3000                    | Next.js Web UI   |
| Backend Go     | http://localhost:8080                    | REST API         |
| Swagger UI     | http://localhost:8080/swagger/index.html | API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
| Backend Python | http://localhost:8001                    | AI å‡¦ç†ã‚µãƒ¼ãƒãƒ¼  |
| PostgreSQL     | localhost:5432                           | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹     |
| Redis          | localhost:6379                           | ã‚­ãƒ£ãƒƒã‚·ãƒ¥       |

```bash
# ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
curl http://localhost:8080/health
curl http://localhost:8001/api/health
```

## é–‹ç™º

### Docker Compose ã‚³ãƒãƒ³ãƒ‰

```bash
# å…¨ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•
docker-compose -f docker-compose/dev.yml up -d

# ç‰¹å®šã‚µãƒ¼ãƒ“ã‚¹ã®ã¿èµ·å‹•
docker-compose -f docker-compose/dev.yml up -d frontend backend-go

# ãƒ­ã‚°ç¢ºèª
docker-compose -f docker-compose/dev.yml logs -f [service-name]

# ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢
docker-compose -f docker-compose/dev.yml down

# å®Œå…¨å‰Šé™¤ï¼ˆãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚‚ï¼‰
docker-compose -f docker-compose/dev.yml down -v

# ã‚¤ãƒ¡ãƒ¼ã‚¸å†ãƒ“ãƒ«ãƒ‰
docker-compose -f docker-compose/dev.yml up -d --build
```

### å€‹åˆ¥é–‹ç™º

Docker Compose ã‚’ä½¿ã‚ãšã€å„ã‚µãƒ¼ãƒ“ã‚¹ã‚’å€‹åˆ¥ã«é–‹ç™ºã™ã‚‹å ´åˆï¼š

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**

```bash
cd frontend
npm install
npm run dev
# http://localhost:3000
```

**Backend Go**

```bash
cd backend-go
go mod download
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’èµ·å‹•
docker-compose -f ../docker-compose/dev.yml up -d postgres redis
# ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
go run cmd/api/main.go
# http://localhost:8080
```

**Backend Python**

```bash
cd backend-python
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
uvicorn app.main:app --host 0.0.0.0 --port 8001 --reload
# http://localhost:8001
```

### é–‹ç™ºãƒ«ãƒ¼ãƒ«

é–‹ç™ºã«å‚åŠ ã™ã‚‹å‰ã«ã€å¿…ãš[é–‹ç™ºãƒ«ãƒ¼ãƒ«ãƒ»è²¢çŒ®ã‚¬ã‚¤ãƒ‰](./docs/CONTRIBUTING.md)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ:**

- ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: `feat(frontend): æ©Ÿèƒ½å` ã®å½¢å¼
- ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ: è©³ç´°ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å¾“ã£ã¦ä½œæˆ
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼: å¿…é ˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’ç¢ºèª
- ãƒ–ãƒ©ãƒ³ãƒå‘½å: `feature/123-æ©Ÿèƒ½å` ã®å½¢å¼

## API ä»•æ§˜

### Backend Go (REST)

**Swagger UI**: http://localhost:8080/swagger/index.html

**èªè¨¼ï¼ˆèªè¨¼ä¸è¦ï¼‰**

- `POST /api/v1/auth/signup` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
- `POST /api/v1/auth/signin` - ãƒ­ã‚°ã‚¤ãƒ³
- `POST /api/v1/auth/confirm-signup` - ç™»éŒ²ç¢ºèª
- `POST /api/v1/auth/forgot-password` - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆè¦æ±‚
- `POST /api/v1/auth/confirm-forgot-password` - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆ

**ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆèªè¨¼å¿…è¦ï¼‰**

- `GET /api/v1/users/profile` - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å–å¾—
- `PUT /api/v1/users/profile` - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ›´æ–°
- `PUT /api/v1/users/email` - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å¤‰æ›´
- `GET /api/v1/users/:id` - ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾—
- `GET /api/v1/users` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§

**AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆèªè¨¼å¿…è¦ï¼‰**

- `POST /api/v1/ai-agents` - AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä½œæˆ
- `GET /api/v1/ai-agents/:id` - AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå–å¾—
- `PUT /api/v1/ai-agents/:id` - AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ›´æ–°
- `DELETE /api/v1/ai-agents/:id` - AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‰Šé™¤

**ã‚·ã‚¹ãƒ†ãƒ **

- `GET /health` - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

### Backend Python API

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**

- `GET /api/health` - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- `POST /api/ai/chat` - é€šå¸¸ãƒãƒ£ãƒƒãƒˆ
- `POST /api/ai/chat/stream` - ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒãƒ£ãƒƒãƒˆ (SSE)
- `POST /api/tools/available` - åˆ©ç”¨å¯èƒ½ãƒ„ãƒ¼ãƒ«ä¸€è¦§

**å¯¾å¿œ LLM ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼**

- OpenAI (GPT-4o, GPT-4o-mini)
- Anthropic (Claude 3.5 Sonnet, Claude 3.5 Haiku)
- Google (Gemini 1.5 Pro, Gemini 1.5 Flash)

**åˆ©ç”¨å¯èƒ½ãªã‚µãƒ¼ãƒ“ã‚¹**

çµ„ã¿è¾¼ã¿ã‚µãƒ¼ãƒ“ã‚¹:

- DateTimeService - æ—¥æ™‚æ“ä½œ
- CalculationService - è¨ˆç®—ãƒ»çµ±è¨ˆ
- TextService - ãƒ†ã‚­ã‚¹ãƒˆå‡¦ç†
- DataService - ãƒ‡ãƒ¼ã‚¿å¤‰æ›
- UtilityService - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

å¤–éƒ¨ API é€£æºã‚µãƒ¼ãƒ“ã‚¹:

- OpenWeatherService - å¤©æ°—æƒ…å ±
- SlackService - Slack é€£æº
- NotionService - Notion é€£æº
- BraveSearchService - Web æ¤œç´¢
- ExchangeRateService - ç‚ºæ›¿ãƒ¬ãƒ¼ãƒˆ
- GoogleCalendarService - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æº
- IPApiService - IP ä½ç½®æƒ…å ±

## èªè¨¼

### AWS Cognito User Pool

**é–‹ç™ºç’°å¢ƒï¼ˆDEV User Poolï¼‰**

- User Pool Name: `neuraKnot-dev-user-pool`
- èªè¨¼æ–¹å¼: ãƒ¡ãƒ¼ãƒ« + ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
- OAuth: æœªå¯¾å¿œ
- MFA: ç„¡åŠ¹
- ç”¨é€”: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆå°‚ç”¨

**æœ¬ç•ªç’°å¢ƒï¼ˆPROD User Poolï¼‰**

- User Pool Name: `neuraKnot-prod-user-pool`
- èªè¨¼æ–¹å¼: ãƒ¡ãƒ¼ãƒ« + OAuth
- OAuth ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼: Google, Apple, LINE
- MFA: ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æœ‰åŠ¹åŒ–å¯èƒ½
- ç”¨é€”: æœ¬ç•ªç’°å¢ƒã®ã¿

### ãƒˆãƒ¼ã‚¯ãƒ³è¨­å®š

- ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³: 1 æ™‚é–“
- ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³: 30 æ—¥

### User Pool åˆ†é›¢ã®ãƒ¡ãƒªãƒƒãƒˆ

- DEV ç’°å¢ƒã§ã®å®Ÿé¨“ãŒ PROD ã«å½±éŸ¿ã—ãªã„
- ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨æœ¬ç•ªãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å®Œå…¨åˆ†é›¢
- DEV ç’°å¢ƒã§ Cognito çµ±åˆãƒ†ã‚¹ãƒˆãŒå¯èƒ½
- æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ã®ä¿è­·

## ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£

NeuraKnot ã®ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã¯ **Terraform** ã‚’ä½¿ç”¨ã—ã¦ Infrastructure as Code (IaC) ã¨ã—ã¦ç®¡ç†ã•ã‚Œã¦ã„ã¾ã™ã€‚

### ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

**é–‹ç™ºç’°å¢ƒï¼ˆDevï¼‰**

- **Cognito User Pool**: èªè¨¼ã®ã¿
- **ã‚³ã‚¹ãƒˆ**: $0ï¼ˆç„¡æ–™æ å†…ï¼‰
- **ç”¨é€”**: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆ

**æœ¬ç•ªç’°å¢ƒï¼ˆProdï¼‰**

- **VPC**: 10.0.0.0/16ï¼ˆMulti-AZï¼‰
- **ECS Fargate**: Backend Go + Backend Pythonï¼ˆAPI ã‚µãƒ¼ãƒãƒ¼ã®ã¿ï¼‰
- **Vercel**: Next.js Frontendï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰
- **RDS PostgreSQL**: Multi-AZã€æš—å·åŒ–æœ‰åŠ¹
- **ALB**: Application Load Balancerï¼ˆAPI ç”¨ï¼‰
- **Cognito**: OAuth å¯¾å¿œï¼ˆGoogle, LINE, Appleï¼‰
- **Service Discovery**: Backend Python ç”¨å†…éƒ¨é€šä¿¡
- **Secrets Manager**: æ©Ÿå¯†æƒ…å ±ç®¡ç†

### ğŸ“‹ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆ

| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«            | ç”¨é€”                         | ä¸»è¦ãƒªã‚½ãƒ¼ã‚¹                                                      |
| --------------------- | ---------------------------- | ----------------------------------------------------------------- |
| **Cognito**           | ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒ»ç®¡ç†           | User Pool, User Pool Client, OAuth Providers                      |
| **VPC**               | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åŸºç›¤             | VPC, Subnets, Internet Gateway, NAT Gateway                       |
| **ECR**               | ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ç®¡ç†         | ECR Repositories (backend-go, backend-python), Lifecycle Policies |
| **ECS**               | ã‚³ãƒ³ãƒ†ãƒŠã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | ECS Cluster, Task Definition, Service (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API ã®ã¿)     |
| **RDS**               | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹                 | PostgreSQL 15, Multi-AZ, Encryption                               |
| **ALB**               | ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°           | Application Load Balancer, Target Groups                          |
| **Service Discovery** | å†…éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€šä¿¡             | Cloud Map, Private DNS Namespace                                  |
| **Secrets Manager**   | æ©Ÿå¯†æƒ…å ±ç®¡ç†                 | Secrets, Secret Versions                                          |
| **IAM**               | ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡                 | Roles, Policies, Policy Attachments                               |

### ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

**Dev ç’°å¢ƒã®ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆCognito ã®ã¿ï¼‰**

```bash
cd terraform/environments/dev
terraform init
terraform plan
terraform apply
```

**Prod ç’°å¢ƒã®ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ï¼‰**

```bash
cd terraform/environments/prod
terraform init
terraform plan
terraform apply
```

### ğŸ“Š ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š

- **Dev ç’°å¢ƒ**: $0/æœˆï¼ˆCognito ç„¡æ–™æ å†…ï¼‰
- **Prod ç’°å¢ƒ**: $100-130/æœˆï¼ˆAWSï¼‰+ Vercel
  - RDS (db.t3.medium): $30-40
  - ECS Fargate (2 ã‚¿ã‚¹ã‚¯): $20-30
  - ALB: $20
  - NAT Gateway (2 ã¤): $45
  - ãã®ä»–: $5-15
  - Vercel: ç„¡æ–™æ ã¾ãŸã¯ $20/æœˆï¼ˆPro ãƒ—ãƒ©ãƒ³ï¼‰

### ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: ALB â†’ ECS â†’ RDS ã®æ®µéšçš„ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- **æ©Ÿå¯†æƒ…å ±ç®¡ç†**: Secrets Manager ã«ã‚ˆã‚‹æš—å·åŒ–ã•ã‚ŒãŸæ©Ÿå¯†æƒ…å ±ç®¡ç†
- **æš—å·åŒ–**: RDSã€EBSã€Secrets Manager ã§æš—å·åŒ–æœ‰åŠ¹

### ğŸ“š è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**Terraform ã®è©³ç´°ãªä½¿ç”¨æ–¹æ³•ã€è¨­å®šã€ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦ã¯ã€[terraform/README.md](./terraform/README.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚**

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

è©³ç´°ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯[docs/](./docs/)ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### ä¸»è¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**é–‹ç™ºã‚¬ã‚¤ãƒ‰**

- ğŸ“‹ [é–‹ç™ºãƒ«ãƒ¼ãƒ«ãƒ»è²¢çŒ®ã‚¬ã‚¤ãƒ‰](./docs/CONTRIBUTING.md) - ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ãƒ«ãƒ¼ãƒ«
- [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º](./docs/frontend/GETTING_STARTED.md)
- [Backend Go é–‹ç™º](./backend-go/README.md)
- [Backend Python é–‹ç™º](./backend-python/README.md)

**ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**

- [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](./docs/DATABASE_DESIGN.md)
- [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](./docs/frontend/ARCHITECTURE.md)
- [èªè¨¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](./docs/frontend/AUTH_ARCHITECTURE.md)
- [ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°](./docs/frontend/ERROR_HANDLING_ARCHITECTURE.md)

**AWS ã‚¤ãƒ³ãƒ•ãƒ©**

- [Terraform ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†](./terraform/README.md) - **Infrastructure as Code**
- [AWS ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰](./docs/aws/INFRASTRUCTURE.md)
- [AWS Cognito è¨­å®š](./docs/aws/COGNITO_SETUP.md)
- [AWS ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸€è¦§](./docs/aws/)

**ãã®ä»–**

- [Swagger/OpenAPI è¨­å®š](./docs/backend/SWAGGER_GUIDE.md)
- [ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](./docs/frontend/ROUTING_BEST_PRACTICES.md)
- [ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ•ã‚§ãƒƒãƒ](./docs/frontend/SERVER_SIDE_FETCH.md)

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- **èªè¨¼**: AWS Cognito + JWT
- **èªå¯**: ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- **æš—å·åŒ–**: é€šä¿¡ï¼ˆTLSï¼‰+ ãƒ‡ãƒ¼ã‚¿ä¿å­˜ï¼ˆRDS æš—å·åŒ–ï¼‰
- **å…¥åŠ›æ¤œè¨¼**: ãƒªã‚¯ã‚¨ã‚¹ãƒˆ DTO ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- **æ©Ÿå¯†æƒ…å ±ç®¡ç†**: AWS Secrets Manager

**é‡è¦**: `.env.local`ãƒ•ã‚¡ã‚¤ãƒ«ã¯çµ¶å¯¾ã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„ã§ãã ã•ã„ã€‚

## ãƒ‡ãƒ—ãƒ­ã‚¤

### CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

GitHub Actions ã‚’ä½¿ç”¨ã—ãŸè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼š

```
feature/xxx â†’ dev â†’ main
                     |
                     v
             GitHub Actions
                     |
        +------------+------------+
        v                         v
    Vercel                    AWS ECS
  (Next.js)              (Go/Python)
```

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

- `feature/xxx` - æ©Ÿèƒ½é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒ
- `dev` - ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆï¼ˆCognito DEV User Poolï¼‰
- `main` - æœ¬ç•ªç’°å¢ƒï¼ˆCognito PROD User Poolï¼‰

### æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼

1. `feature/xxx`ã§é–‹ç™ºï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒï¼‰
2. `dev`ãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸
3. ãƒ­ãƒ¼ã‚«ãƒ«ã§çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆDEV User Poolï¼‰
4. `main`ãƒ–ãƒ©ãƒ³ãƒã¸ PR ä½œæˆ
5. GitHub Actions ã§è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
6. ãƒ¬ãƒ“ãƒ¥ãƒ¼ & æ‰¿èª
7. `main`ã«ãƒãƒ¼ã‚¸
8. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
   - Vercelï¼ˆNext.js Frontendï¼‰
   - AWS ECSï¼ˆBackend Go/Python APIï¼‰

### ç’°å¢ƒå¤‰æ•°ç®¡ç†

**ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºï¼ˆ.env.localï¼‰**

```bash
# Database
DATABASE_URL=postgresql://user:pass@localhost:5432/neuraKnot_dev

# Auth (Cognito DEV User Pool)
COGNITO_USER_POOL_ID=ap-northeast-1_DEV_xxxxx
COGNITO_CLIENT_ID=xxxxx_dev

# API URLs
NEXT_PUBLIC_API_URL=http://localhost:8080
GO_BACKEND_PYTHON_URL=http://localhost:8001
```

**æœ¬ç•ªç’°å¢ƒï¼ˆVercel/ECSï¼‰**

- Vercel: ç’°å¢ƒå¤‰æ•°è¨­å®šç”»é¢ã§ç®¡ç†ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰
- ECS: AWS Secrets Manager ã‹ã‚‰å–å¾—ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ APIï¼‰

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒãƒ¼ãƒˆç«¶åˆ

```bash
# ä½¿ç”¨ä¸­ã®ãƒãƒ¼ãƒˆã‚’ç¢ºèª
lsof -i :3000
lsof -i :8080
lsof -i :8001

# Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’å®Œå…¨åœæ­¢
docker-compose -f docker-compose/dev.yml down -v
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

```bash
# PostgreSQLã®çŠ¶æ…‹ç¢ºèª
docker-compose -f docker-compose/dev.yml ps postgres

# ãƒ­ã‚°ç¢ºèª
docker-compose -f docker-compose/dev.yml logs postgres

# ã‚³ãƒ³ãƒ†ãƒŠå†èµ·å‹•
docker-compose -f docker-compose/dev.yml restart postgres

# æ¥ç¶šãƒ†ã‚¹ãƒˆ
docker-compose -f docker-compose/dev.yml exec postgres psql -U postgres -d go_backend
```

### Swagger UI ãŒè¡¨ç¤ºã•ã‚Œãªã„

```bash
# Swaggerãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†ç”Ÿæˆ
cd backend-go
go run github.com/swaggo/swag/cmd/swag@v1.8.12 init -g cmd/api/main.go -o docs

# ã‚³ãƒ³ãƒ†ãƒŠå†èµ·å‹•
docker-compose -f docker-compose/dev.yml restart backend-go

# ãƒ­ã‚°ç¢ºèª
docker-compose -f docker-compose/dev.yml logs backend-go
```

### Backend Python ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãªã„

```bash
# ãƒ­ã‚°ç¢ºèª
docker-compose -f docker-compose/dev.yml logs backend-python

# ç’°å¢ƒå¤‰æ•°ç¢ºèª
docker-compose -f docker-compose/dev.yml exec backend-python env | grep API_KEY

# ã‚³ãƒ³ãƒ†ãƒŠå†èµ·å‹•
docker-compose -f docker-compose/dev.yml restart backend-python
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License
