# Scripts Directory

このディレクトリには、NeuraKnot プロジェクトの運用スクリプトが含まれています。

## マイグレーションスクリプト

### migrate.sh

データベースマイグレーションを実行するスクリプト。

**⚠️ 警告**: このスクリプトはデータベースをリセット（全データ削除）します。

**使い方:**

```bash
# 本番環境でマイグレーション実行
./scripts/migrate.sh prod

# 開発環境でマイグレーション実行
./scripts/migrate.sh dev
```

**実行内容:**

1. Terraform から接続情報を取得
2. マイグレーション用 Docker イメージをビルド
3. ECR にプッシュ
4. ECS タスクとしてマイグレーションを実行
5. データベースをリセット（全テーブル削除）
6. スキーマを適用
7. 実行ログを表示

**セキュリティ機能:**

- 本番環境では 3 段階の確認プロンプト
- 環境名の明示的な入力を要求
- "DELETE ALL DATA"の入力を要求
- 詳細な警告メッセージ

**詳細:**

[Database Migration Guide](../docs/DATABASE_MIGRATION.md)を参照してください。

## その他のスクリプト

今後、デプロイやバックアップなどのスクリプトがここに追加される予定です。

---

最終更新: 2025-10-20
